{% extends 'base.html.twig' %}

{% block title %}Log in!
{% endblock %}

{% block body %}

<div class="container mt-5" style="margin: 0 auto; width: 40%;">
	{# Vérifier si un message d'erreur existe #}
	{% if error %}
	<div class="alert alert-danger">
		{% if error.messageKey == 'Invalid credentials.' %}
		<p>Le mot de passe est incorrect,</p>
		<p>Veuillez réessayer</p>
		{% endif %}
	</div>
	{% endif %}
	<div class="card border-dark mb-3" style="max-width: 40rem; color:aliceblue" ;>
		{% for message in app.flashes('warning') %}
		<div class="alert alert-warning">
			{{ message }}
		</div>
		{% endfor %}
		<div class="card-header">Login</div>
		<div class="card-body">
			<form method="post" class="mt-2">
				<label for="inputEmail1" class="form-label mt-4">Email :</label>
				<input type="email" value="{{ last_username }}" name="email" id=inputEmail class="form-control"
					placeholder="Enter email" autocomplete="email">
				<label for="inputPassword" class="form-label mt-4">Password :</label>
				<input type="password" name="password" id="inputPassword" class="form-control" placeholder="Password"
					autocomplete="off">
				<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
				<button class="btn btn-info mt-5" type="submit">Se connecter</button>
			</form>
		</div>
	</div>
</div>
{% endblock %}